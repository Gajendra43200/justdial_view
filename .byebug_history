c
@current_user ||= User.find_by(id: session[:user_id])
   # before_action :require_login
c
current_user
session.delete(:user_id)
session
c
@services.present?
@services
n
c
n
session[:user_id]
n
c
 c
c
flash.now[:error]
c
params[:password]
@user.password
@user
c
n
c
@review
c
n
c
n
@service.reviews.new
@service
c
service
n
current_user
n
c
n
c
n
@services
n
params[:service_name]
@services
n
c
n
@services
n
@services
n
c
services
sevices
n
services
n
c
n
services
n
c
current_user
@current_user
n
 params[:city].present?
n
 params[:service_name].present?
c
n
c
current_user
cur
current_user
c
n
session[:user_id] == user.id
user
c
n
current_user
c
current_user
c
current_user
n
current_user
n
c
current_user
c
@service
n
c
@service
n
c
@current_user
c
current_user
c
user.authenticate(params[:password])
user
n
c
user
n
params[:password]
params[:email]
c
n
c
n
c
params[:password]
user
c
n
user
c
user
c
user && user.authenticate(params[:password])
params[:password]
user
c
@current_user
c
n
c
@current_userr
@current_user
n
c
current_userw
current_user
session[:current_user_id] = user.id
user.id
 user.password_digest
c
n
nn
n
nn
n
